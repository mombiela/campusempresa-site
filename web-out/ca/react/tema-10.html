<!DOCTYPE html>
<html lang="ca">
<head>
	<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Refs y el DOM</title>
<meta name="description" content="${meta.getChild("description").text}">
<meta name="author" content="${meta.getChild("author").value}">

<link rel="stylesheet" href="/css/site.css">
<script src="/js/cookie.js?v=1"></script>
<script src="/js/page.js?v=1"></script>
</head>

<body>
    <header id="main_header">
	    <h1><a href="index.html">CampusEmpresa</a></h1>
		<h2><a href="index.html">Aprenent juns, unint la societat</h2>
		<div>	<a href="../es/react\tema-10.html" onclick="setLang('es'); return false;" title="Castellano"><i>Castellano</i></a>
	<b>Català</b>
</div>
    </header>

    <div class="top-bar">
    	<a href="about.html" title="Sobre nosotros">Sobre nosotros</a>
<a href="donate.html" title="Donaciones">Donaciones</a>
<a href="contribute.html" title="Contribuir">Contribuir</a>
<a href="licence.html" title="Licencia">Licencia</a>
    </div>
	
    <div id="main_content" class="clearfix">
    	<article>
				<div class="column row book_nav clearfix">
		
		           	<a style="float:left;"	href="tema-09" title="Anterior">&#x25C4; Anterior</a>
				           	<a style="float:right;" href="tema-11" title="Siguiente">Siguiente &#x25BA;</a>
			</div>
			

		    	<h2><a id="index_0"></a>Introducción</h2>
				    	<h3><a id="index_1"></a>¿Qué son las Refs en React?</h3>
						<p>Las refs en React son una forma de acceder directamente a elementos del DOM o a componentes React creados en el método <code>render</code>. Permiten interactuar con el DOM de una manera que no es posible a través del flujo de datos normal de React, lo que puede ser útil en ciertas situaciones donde necesitas manipular elementos de manera directa.</p>

		    	<h2><a id="index_2"></a>Creación y Uso de Refs</h2>
				    	<h3><a id="index_3"></a>Creación de Refs usando useRef</h3>
						<p>En componentes funcionales, la creación de refs se realiza utilizando el hook <code>useRef</code>. Este hook retorna un objeto mutable cuyo <code>.current</code> se puede utilizar para almacenar una referencia a un elemento del DOM.</p>

				<pre>// Ejemplo de uso de useRef para crear una referencia
function MiComponente() {
    const inputRef = useRef(null);

    function enfocarInput() {
        inputRef.current.focus();
    }

    return (
        &lt;div&gt;
            &lt;input ref={inputRef} type=&quot;text&quot; /&gt;
            &lt;button onClick={enfocarInput}&gt;Enfocar Input&lt;/button&gt;
        &lt;/div&gt;
    );
}</pre>
				<p>En este ejemplo, <code>inputRef</code> se utiliza para almacenar una referencia al elemento <code>&lt;input&gt;</code>. La función <code>enfocarInput</code> usa esta referencia para enfocar el campo de texto cuando se hace clic en el botón.</p>

		    	<h3><a id="index_4"></a>Creación de Refs en Componentes de Clase</h3>
						<p>En componentes de clase, las refs se crean usando <code>React.createRef()</code> dentro del constructor del componente. Este método retorna un objeto ref que luego puede ser asignado a elementos del DOM a través del atributo <code>ref</code>.</p>

				<pre>// Ejemplo de creaci&oacute;n de refs en un componente de clase
class MiComponente extends React.Component {
    constructor(props) {
        super(props);
        this.inputRef = React.createRef();
    }

    enfocarInput = () =&gt; {
        this.inputRef.current.focus();
    };

    render() {
        return (
            &lt;div&gt;
                &lt;input ref={this.inputRef} type=&quot;text&quot; /&gt;
                &lt;button onClick={this.enfocarInput}&gt;Enfocar Input&lt;/button&gt;
            &lt;/div&gt;
        );
    }
}</pre>
				<p>En este ejemplo, <code>this.inputRef</code> se crea en el constructor y se utiliza para referenciar el elemento <code>&lt;input&gt;</code>, permitiendo que el método <code>enfocarInput</code> enfoque el campo de texto.</p>

		    	<h2><a id="index_5"></a>Uso Avanzado de Refs</h2>
				    	<h3><a id="index_6"></a>Refs para Acceder a Componentes</h3>
						<p>Además de referenciar elementos del DOM, las refs también pueden ser utilizadas para acceder a métodos y propiedades de componentes React, lo que puede ser útil para manejar comportamientos más complejos o interacciones entre componentes.</p>

				<pre>// Ejemplo de uso de refs para acceder a un componente hijo
function Hijo() {
    const decirHola = () =&gt; {
        alert('&iexcl;Hola desde el componente Hijo!');
    };

    return &lt;button onClick={decirHola}&gt;Decir Hola&lt;/button&gt;;
}

class Padre extends React.Component {
    constructor(props) {
        super(props);
        this.hijoRef = React.createRef();
    }

    decirHolaDesdeHijo = () =&gt; {
        this.hijoRef.current.decirHola();
    };

    render() {
        return (
            &lt;div&gt;
                &lt;Hijo ref={this.hijoRef} /&gt;
                &lt;button onClick={this.decirHolaDesdeHijo}&gt;Hola desde el Padre&lt;/button&gt;
            &lt;/div&gt;
        );
    }
}</pre>
				<p>En este ejemplo, el componente padre usa una ref para llamar al método <code>decirHola</code> del componente hijo directamente desde el componente padre.</p>

		    	<h3><a id="index_7"></a>Manipulación Directa del DOM</h3>
						<p>Aunque el enfoque de React es evitar la manipulación directa del DOM, en algunas situaciones puede ser necesario, como en la integración con bibliotecas de terceros o para manejar animaciones manualmente.</p>

				<pre>// Ejemplo de manipulaci&oacute;n directa del DOM con refs
function MiComponente() {
    const divRef = useRef(null);

    function cambiarColor() {
        divRef.current.style.backgroundColor = 'lightblue';
    }

    return (
        &lt;div&gt;
            &lt;div ref={divRef} style={{ width: '100px', height: '100px', backgroundColor: 'lightgray' }} /&gt;
            &lt;button onClick={cambiarColor}&gt;Cambiar Color&lt;/button&gt;
        &lt;/div&gt;
    );
}</pre>
				<p>En este ejemplo, la referencia <code>divRef</code> se utiliza para cambiar directamente el estilo del div, cambiando su color de fondo cuando se hace clic en el botón.</p>

		    	<h2><a id="index_8"></a>Reglas y Buenas Prácticas con Refs</h2>
				    	<h3><a id="index_9"></a>Cuándo Usar Refs</h3>
						<ul>
<li><strong>Acceder a elementos del DOM:</strong> Cuando necesitas acceder directamente a un elemento del DOM para manipularlo.</li>
<li><strong>Manejar componentes de terceros:</strong> Para interactuar con componentes de bibliotecas que no están bajo tu control.</li>
<li><strong>Controlar la reproducción de vídeos o medios:</strong> Para iniciar, pausar o manejar el control de medios mediante la manipulación directa de elementos <code>&lt;video&gt;</code> o <code>&lt;audio&gt;</code>.</li>
</ul>

		    	<h3><a id="index_10"></a>Buenas Prácticas</h3>
						<ul>
<li><strong>Minimiza el uso de refs:</strong> Usa refs solo cuando sea absolutamente necesario. En la mayoría de los casos, React proporciona otras formas de lograr lo que necesitas sin manipular el DOM directamente.</li>
<li><strong>Evita la manipulación directa del DOM:</strong> A menos que sea necesario, evita manipular el DOM directamente, ya que esto puede llevar a inconsistencias entre el estado de la UI y el estado de la aplicación en React.</li>
<li><strong>Manten las refs simples:</strong> Utiliza refs para tareas simples y específicas. Si un componente necesita demasiadas refs o manipulación compleja del DOM, considera reestructurar tu componente o enfoque.</li>
</ul>

		    	<h2><a id="index_11"></a>Conclusión</h2>
				    	<h3><a id="index_12"></a>Resumen sobre Refs y el DOM en React</h3>
						<p>Las refs en React proporcionan una herramienta poderosa para manejar interacciones directas con el DOM y componentes React, aunque deben usarse con cuidado para evitar comprometer la integridad del flujo de datos de React. Entender cuándo y cómo utilizar refs correctamente te permitirá resolver ciertos problemas de manera efectiva sin comprometer el diseño declarativo que hace a React tan poderoso. En los próximos temas, exploraremos más sobre la administración del estado y el uso de Context API en React.</p>

		  	</article>
		<aside id="advertisement">
	  		<h2>Anuncios</h2>
<p>¡Pues sí! Ahora mismo nosotros también necesitamos publicidad. Quizá en el futuro esta situación cambie. Por el momento simplemente no es posible.</p>
<p>Este espacio está reservado para este fin.</p>
    	
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- STxT - Adaptable -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="5037052041"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
	  	</aside>
	</div>
	
	<footer><p>&copy; 2024 - Todos els drets reservats.</p></footer>
	
	<div id="cookies_adv">
		Usamos cookies para mejorar su experiencia de uso y ofrecer contenidos adaptados a sus intereses
        <a href="javascript:accept();" class="button">Entendido!</a>
        <a href="cookies.html">Más información</a>
    </div>
    <script>checkCookies();</script>
</body>
</html>
