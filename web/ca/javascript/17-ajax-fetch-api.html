<!DOCTYPE html>
<html lang="ca">
<head>
	<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AJAX y Fetch API</title>
<meta name="description" content="${meta.getChild("description").text}">
<meta name="author" content="${meta.getChild("author").value}">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="/css/site.css">
<script src="/js/cookie.js?v=1"></script>
<script src="/js/page.js?v=1"></script>
</head>

<body>
	<div id="header" class="container-xxl">
		<div class="row">
			<div class="col-12 p-0">
				<h1 class="m-0 p-0">
					<a href="/index.html"><img src="/img/logo-web-transparent.png" style="visibility:hidden"></a>
				</h3>
			</div>
		</div>
		<div class="row">
			<div class="col-8 p-0 m-0">
				<h2>Aprenent juns, unint la societat d'avui i demà</h2>
			</div>
			<div class="col-4 text-end p-0 m-0">
					<a href="../es/javascript\17-ajax-fetch-api.html" onclick="setLang('es'); return false;" title="Castellano">
		Castellano
	</a>
	|
	<b>Català</b>
			</div>
		</div>
	</div>

    <div class="top-bar container-fluid">
    	<div class="container-xxl">
	<div class="row">
		<div class="col">
			<a href="/ca/about.html" title="Sobre nosotros">Sobre nosotros</a>
			<a href="/ca/donate.html" title="Donaciones">Donaciones</a>
			<a href="/ca/contribute.html" title="Contribuir">Contribuir</a>
			<a href="/ca/licence.html" title="Licencia">Licencia</a>
		</div>
	</div>
</div>
    </div>
	
    <div id="main_content" class="container-xxl">
    	<div class="row">
    		<div class="col col-8">
    				<div class="book_nav row">
		
		<div class="col-6">
				           	<a style="float:left;"	href="16-promesas-asincronia" title="Anterior">&#x25C4; Anterior</a>
					</div>
		
		<div class="col-6">
				           	<a style="float:right;" href="18-modulos-javascript" title="Següent">Següent &#x25BA;</a>
					</div>
	</div>



		    	<h2><a id="index_0"></a>AJAX y Fetch API en JavaScript</h2>
				    	<h3><a id="index_1"></a>Introducción a AJAX</h3>
						<p><strong>AJAX</strong> (Asynchronous JavaScript and XML) es una técnica que permite actualizar partes de una página web sin tener que recargarla por completo.
AJAX combina varias tecnologías, incluyendo JavaScript, XML (aunque hoy en día es más común usar JSON), y el objeto <code>XMLHttpRequest</code>, para realizar solicitudes asíncronas al servidor.</p>
<p>AJAX es fundamental para construir aplicaciones web dinámicas que pueden interactuar con servidores de manera eficiente.</p>

				<pre>// Ejemplo b&aacute;sico de AJAX con XMLHttpRequest
let xhr = new XMLHttpRequest();
xhr.open(&quot;GET&quot;, &quot;https://api.example.com/datos&quot;, true);
xhr.onreadystatechange = function() {
    if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) {
        console.log(&quot;Datos recibidos:&quot;, xhr.responseText);
    }
};
xhr.send();</pre>
		    	<h3><a id="index_2"></a>Uso de la Fetch API</h3>
						<p>La <strong>Fetch API</strong> es una interfaz moderna que reemplaza a <code>XMLHttpRequest</code> para realizar solicitudes HTTP.
Es más fácil de usar y se basa en promesas, lo que la hace más compatible con código asincrónico moderno.</p>
<p>La Fetch API permite hacer solicitudes con el método <code>fetch()</code>, que devuelve una promesa que se resuelve en un objeto <code>Response</code>.</p>

				<pre>// Ejemplo b&aacute;sico de Fetch API
fetch(&quot;https://api.example.com/datos&quot;)
    .then(response =&gt; {
        if (!response.ok) {
            throw new Error(&quot;Error en la solicitud: &quot; + response.statusText);
        }
        return response.json();
    })
    .then(data =&gt; {
        console.log(&quot;Datos recibidos:&quot;, data);
    })
    .catch(error =&gt; {
        console.error(&quot;Error:&quot;, error);
    });</pre>
		    	<h3><a id="index_3"></a>Envío de datos con Fetch</h3>
						<p>Fetch API también permite enviar datos al servidor utilizando métodos como <code>POST</code>.
Para enviar datos, se debe incluir un objeto de configuración que especifique el método HTTP, encabezados y el cuerpo de la solicitud.</p>

				<pre>// Ejemplo de env&iacute;o de datos con Fetch API
let datos = {
    nombre: &quot;Juan&quot;,
    edad: 30
};

fetch(&quot;https://api.example.com/usuarios&quot;, {
    method: &quot;POST&quot;,
    headers: {
        &quot;Content-Type&quot;: &quot;application/json&quot;
    },
    body: JSON.stringify(datos)
})
    .then(response =&gt; {
        if (!response.ok) {
            throw new Error(&quot;Error en la solicitud: &quot; + response.statusText);
        }
        return response.json();
    })
    .then(data =&gt; {
        console.log(&quot;Respuesta del servidor:&quot;, data);
    })
    .catch(error =&gt; {
        console.error(&quot;Error:&quot;, error);
    });</pre>
		    	<h3><a id="index_4"></a>Manejo de respuestas con Fetch</h3>
						<p>El objeto <code>Response</code> devuelto por <code>fetch()</code> incluye varios métodos para manejar la respuesta del servidor:</p>
<ul>
<li><code>text()</code> - Devuelve la respuesta como una cadena de texto.</li>
<li><code>json()</code> - Analiza la respuesta como JSON y devuelve un objeto JavaScript.</li>
<li><code>blob()</code> - Devuelve la respuesta como un objeto Blob.</li>
<li><code>formData()</code> - Devuelve la respuesta como un objeto FormData.</li>
<li><code>arrayBuffer()</code> - Devuelve la respuesta como un ArrayBuffer.</li>
</ul>

				<pre>// Ejemplo de manejo de respuestas con Fetch API
fetch(&quot;https://api.example.com/datos&quot;)
    .then(response =&gt; {
        if (!response.ok) {
            throw new Error(&quot;Error en la solicitud: &quot; + response.statusText);
        }
        return response.text();
    })
    .then(data =&gt; {
        console.log(&quot;Datos recibidos como texto:&quot;, data);
    })
    .catch(error =&gt; {
        console.error(&quot;Error:&quot;, error);
    });</pre>
		    	<h3><a id="index_5"></a>Comparación entre Fetch API y XMLHttpRequest</h3>
						<p>Aunque <code>XMLHttpRequest</code> ha sido la forma tradicional de hacer solicitudes AJAX, la Fetch API ofrece varias ventajas:</p>
<ul>
<li><strong>Simplicidad</strong>: Fetch tiene una sintaxis más sencilla y limpia, basada en promesas.</li>
<li><strong>Manejo de errores</strong>: Fetch maneja los errores de manera más consistente.</li>
<li><strong>Manejo de respuestas</strong>: Fetch facilita el manejo de diferentes tipos de respuesta (texto, JSON, blobs, etc.).</li>
<li><strong>Desventajas</strong>: Fetch no maneja automáticamente los errores de red como <code>XMLHttpRequest</code>, que debe manejarse explícitamente con <code>catch()</code>.</li>
</ul>

				<pre>// Comparaci&oacute;n simple
// XMLHttpRequest
let xhr = new XMLHttpRequest();
xhr.open(&quot;GET&quot;, &quot;https://api.example.com/datos&quot;, true);
xhr.onreadystatechange = function() {
    if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) {
        console.log(&quot;Datos recibidos con XMLHttpRequest:&quot;, xhr.responseText);
    }
};
xhr.send();

// Fetch API
fetch(&quot;https://api.example.com/datos&quot;)
    .then(response =&gt; response.json())
    .then(data =&gt; console.log(&quot;Datos recibidos con Fetch:&quot;, data))
    .catch(error =&gt; console.error(&quot;Error:&quot;, error));</pre>
	    		</div>
    		<div class="col col-4">
    			<h2>Patrocinadors</h2>
<p>Vols ser el nostre patrocinador? De moment no tenim patrocinadors oficials, però estem oberts a propostes.</p>
<p>Vols ser un d'ells? Contacta amb nosaltres:</p>
<p><a href="mailto:admin@campusempresa.com">admin@campusempresa.com</a></p>
<p>Aquest serà el teu espai reservat :-)</p>
    	
<div>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- STxT - Adaptable -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0611338592562725"
     data-ad-slot="5037052041"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
    		</div>
    	</div>
	</div>
	
    <div class="container-xxl mt-3">
		<div class="row">
			<div class="col">
				<footer><p>&copy; 2024 - Tots els drets reservats.</p></footer>
			</div>
		</div>
	</div>	
	
	<div id="cookies_adv">
		Fem servir galetes per millorar la teva experiència d'ús i oferir continguts adaptats als teus interessos
        <a href="javascript:accept();" class="button">Entès!</a>
        <a href="cookies.html">Més informació</a>
    </div>
    <script>checkCookies();</script>
</body>
</html>
